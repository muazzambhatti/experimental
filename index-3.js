!async function(){const e=document.getElementById("year-picker");for(let n=(new Date).getFullYear();n>=1902;n--){const t=document.createElement("option");t.value=n,t.text=n,e.appendChild(t)}const n=await fetch("data.json"),t=await n.json();searchbutton.addEventListener("click",u),searchText.addEventListener("keypress",(function(e){"Enter"===e.key&&""!=document.getElementById("searchText").value&&u()}));let i=document.getElementById("rankColumnList"),r=document.getElementById("movieDetailsColumnList"),a=document.getElementById("yearColumnList"),d=document.getElementById("genres"),l=document.getElementById("year-picker"),o=document.getElementById("languages"),s=document.getElementById("bottomMenu");function u(){i.innerHTML="",r.innerHTML="",a.innerHTML="";let e=document.getElementById("searchText").value.toLowerCase(),n=t.filter((function(n){return n.title.toLowerCase().includes(e)}));if(0==n.length){let e=document.createElement("li");e.innerHTML='<p class="detailBox">No movies match your query.</p>',r.appendChild(e)}else g(n)}function c(){let e;if(i.innerHTML="",r.innerHTML="",a.innerHTML="",requiredLanguage=o.value,"All"==requiredLanguage&&(requiredLanguage=""),e=t.filter((function(e){return e.original_language.includes(requiredLanguage)})),requiredRating=s.value,"All"==requiredRating?(requiredRating=0,e=e.filter((function(e){return e.vote_average>=requiredRating}))):e=e.filter((function(e){return e.vote_average==requiredRating})),requiredYear=l.value,"All"!=requiredYear&&(e=e.filter((function(e){return e.release_date.includes(requiredYear)}))),requiredGenre=d.value,"All"!=requiredGenre&&(e=e.filter((function(e){return e.genres.includes(requiredGenre)}))),0==e.length){let e=document.createElement("li");e.innerHTML='<p class="detailBox">No movies match your query.</p>',r.appendChild(e)}else g(e)}function m(e){let n=Math.floor(e/60);return n+" Hours "+(e-60*n)+" Mins"}function g(e){for(let n=0;n<e.length;n++)setTimeout((()=>{let t=document.createElement("li"),d=document.createElement("li"),l=document.createElement("li");d.innerHTML=`<div id="rank${n}" class="rankFromJs">${n+1}</div>`,t.innerHTML=`\n<div class="main" id="main${n}"> \n<div style="margin-left: 0px; width: 45px; height:68px;">\n<img style="margin:0px; padding:0px; width:100%; height: 100%;" src="https://image.tmdb.org/t/p/w45${e[n].poster_path}"> \n</div>\n<div id="movie">\n<div id="movie1">\n<a target="_blank" style="font-weight:bold;font-size:larger;color: black" href="https://www.imdb.com/title/${e[n].external_ids.imdb_id}">${e[n].title}</a>\n</div>\n<div id="movie2">\n<span class="certificationspanstyle">${e[n].certification}</span>\n<span class="genreSpanStyle">${e[n].genres.join(", ")+"."}</span>\n</div>\n</div>\n<div id="extraDetailBox">\n<h5 class="sideH5">Movie Rating:</h5>\n<p class="sideP">${e[n].vote_average}</p>\n<h5 class="sideH5">Watch Time:</h5>\n<p class="sideP">${m(e[n].runtime)}</p>\n</div>\n</div>`,l.innerHTML=`<div id="movieYear${n}" class="rankFromJs">${e[n].release_date.slice(0,4)}</div>`,i.appendChild(d),r.appendChild(t),a.appendChild(l),document.getElementById("rank"+n).style.height=getComputedStyle(document.getElementById("main"+n)).height,document.getElementById("movieYear"+n).style.height=getComputedStyle(document.getElementById("main"+n)).height}),1)}s.addEventListener("change",c),d.addEventListener("change",c),o.addEventListener("change",c),l.addEventListener("change",c),c()}();